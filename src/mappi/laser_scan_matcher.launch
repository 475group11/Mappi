<launch>

  <param name="robot_description" textfile="Mappi.urdf" />

  <!-- Static transform from base_link to base_laser_link -->
  <node name="lidar_transform" pkg="tf2_ros" type="static_transform_publisher"
    args="0 0 0.05 0 0 0 1 /base_link /base_laser_link" />
  <!-- Static transfrom from map to base_link -->
  <!-- <node name="base_transform" pkg="tf2_ros" type="static_transform_publisher"
    args="0 0 0 0 0 0 1 /map /base_link" /> -->

  <!-- Play from bag -->
  <node name="bag" pkg="rosbag" type="play" args="--clock $(env PWD)/bagfiles/Mapping1.bag /base_pose_ground_truth:=/odom /base_scan:=/scan" />

  <!-- Laser scan matcher (SLAM) -->
  <node name="scan_matcher" pkg="laser_scan_matcher" type="laser_scan_matcher_node">
    <param name="fixed_frame" value="map" />
    <param name="use_imu" value="false" />
    <param name="use_odom" value="true" />
    <param name="publish_pose_stamped" value="true" />
  </node>
</launch>
